import './polyfills.server.mjs';
import{a as M,b as L}from"./chunk-OMASOG6P.mjs";import{a as A}from"./chunk-GTT3ND2I.mjs";import"./chunk-W663GE3O.mjs";import{a as x}from"./chunk-47WUQDIN.mjs";import{a as b,b as w}from"./chunk-CELE4F6T.mjs";import"./chunk-GTSSCL6B.mjs";import{a as P,c as y,e as T,j as W}from"./chunk-OP5MZPS4.mjs";import"./chunk-6AIGYBES.mjs";import"./chunk-NMIYAXY6.mjs";import"./chunk-G7SPZNB4.mjs";import{$ as u,Mb as g,Nb as f,Ob as S,Qa as n,Qb as v,Wb as C,X as s,Yb as _,ib as l,ob as p,pb as m,qb as c,rb as a,sb as h}from"./chunk-WBN27DHN.mjs";import"./chunk-VVCT4QZE.mjs";var I=(r,e)=>e._id;function B(r,e){if(r&1&&(c(0,"div",4),h(1,"app-product-card",5),a()),r&2){let F=e.$implicit;n(),l("isInWishInp",!0)("product",F)}}var G=(()=>{let e=class e{constructor(){this._ProductsService=s(x),this._CartService=s(b),this._WishlistService=s(A),this._ToastrService=s(w),this.wishlist=[],this.text=""}ngOnInit(){this.getAllProductsSub=this._ProductsService.getAllProducts().subscribe({next:i=>{this.productsList=i.data,console.log(this.productsList)},error:i=>{console.log(i.error)}}),this.getLoggedUserWishlistSub=this._WishlistService.getLoggedUserWishlist().subscribe({next:i=>{i.status=="success"&&(this.wishlist=i.data.map(t=>t._id))}})}addToCart(i){this.AddProductToCartSub=this._CartService.AddProductToCart(i).subscribe({next:t=>{t.status=="success"&&(console.log(t),this._CartService.cartCount.set(t.numOfCartItems),this._ToastrService.success(`${t.message}. \u{1F6FA}`,"Add To Cart"))}})}ngOnDestroy(){this.getAllProductsSub?.unsubscribe(),this.AddProductToCartSub?.unsubscribe(),this.getLoggedUserWishlistSub?.unsubscribe()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u({type:e,selectors:[["app-products"]],standalone:!0,features:[v],decls:8,vars:4,consts:[[1,"m-3"],[1,"container","mt-3"],["type","text","placeholder","Search By Name ...",1,"form-control","w-75","mx-auto",3,"ngModelChange","ngModel"],[1,"row","g-3","my-4"],[1,"col-lg-6","col-xl-3"],[3,"isInWishInp","product"]],template:function(t,o){t&1&&(c(0,"section",0)(1,"div",1)(2,"div")(3,"input",2),S("ngModelChange",function(d){return f(o.text,d)||(o.text=d),d}),a()(),c(4,"div",3),p(5,B,2,2,"div",4,I),C(7,"searchForProductByTitle"),a()()()),t&2&&(n(3),g("ngModel",o.text),n(2),m(_(7,1,o.productsList,o.text)))},dependencies:[W,P,y,T,M,L]});let r=e;return r})();export{G as ProductsComponent};
