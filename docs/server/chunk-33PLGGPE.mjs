import './polyfills.server.mjs';
import{a as E,b as M,c as F}from"./chunk-6WTXAOGU.mjs";import{a as k}from"./chunk-47WUQDIN.mjs";import{a as A,b as O}from"./chunk-CELE4F6T.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-6AIGYBES.mjs";import{h as w}from"./chunk-NMIYAXY6.mjs";import"./chunk-G7SPZNB4.mjs";import{$ as S,Ab as u,Ib as s,Jb as m,Kb as C,Ma as I,Qa as r,Qb as D,Rb as P,X as d,gb as p,ib as f,ja as b,ka as h,mb as _,nb as v,ob as g,pb as x,qb as c,rb as a,sb as l,vb as T,zb as y}from"./chunk-WBN27DHN.mjs";import"./chunk-VVCT4QZE.mjs";var V=()=>[1,2,3,4,5];function j(e,n){if(e&1&&l(0,"img",17),e&2){let t=u().$implicit,o=u(2);f("src",t,I)("alt",o.productInfo.subcategory[0].name)}}function B(e,n){e&1&&p(0,j,1,2,"ng-template",5)}function $(e,n){e&1&&l(0,"i",11)}function z(e,n){e&1&&l(0,"i",12)}function G(e,n){if(e&1){let t=T();c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"owl-carousel-o",4),g(5,B,1,0,null,5,v),a()()(),c(7,"div",6)(8,"div")(9,"h1",7),s(10),a(),c(11,"p",8),s(12),a(),c(13,"h2",9),s(14),a(),c(15,"div",10)(16,"span"),s(17),a(),c(18,"span"),g(19,$,1,0,"i",11,v),p(21,z,1,0,"i",12),s(22),a()(),c(23,"div",13)(24,"button",14),y("click",function(){b(t);let i=u();return h(i.addToCart(i.productInfo._id))}),l(25,"i",15),s(26," add to cart "),a(),l(27,"i",16),a()()()()()}if(e&2){let t=u();r(4),f("options",t.customOptions),r(),x(t.productInfo.images),r(5),m(t.productInfo.title),r(2),m(t.productInfo.description),r(2),m(t.productInfo.category.name),r(3),C("",t.productInfo.price," EGP"),r(2),x(P(7,V).slice(0,t.productInfo.ratingsAverage)),r(2),_(21,t.productInfo.ratingsAverage%1?21:-1),r(),C(" ",t.productInfo.ratingsAverage," ")}}var X=(()=>{let n=class n{constructor(){this._ProductsService=d(k),this._ActivatedRoute=d(w),this._CartService=d(A),this._ToastrService=d(O),this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:3e3,autoplayMouseleaveTimeout:4e3,autoplayHoverPause:!0,dots:!1,navSpeed:700,navText:["previous","next"],items:1,nav:!0}}ngOnInit(){this.paramMapSub=this._ActivatedRoute.paramMap.subscribe({next:o=>{this.id=o.get("id")}}),this.getSpecificProductSub=this._ProductsService.getSpecificProduct(this.id).subscribe({next:o=>{this.productInfo=o.data,console.log(this.productInfo)},error:o=>{console.log(o.error)}})}addToCart(o){this.AddProductToCartSub=this._CartService.AddProductToCart(o).subscribe({next:i=>{i.status=="success"&&(console.log(i),this._ToastrService.success(`${i.message}. \u{1F6FA}`,"Add To Cart"))},error:i=>{console.log(i.error)}})}ngOnDestroy(){this.paramMapSub?.unsubscribe(),this.getSpecificProductSub?.unsubscribe(),this.AddProductToCartSub?.unsubscribe()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=S({type:n,selectors:[["app-details"]],standalone:!0,features:[D],decls:1,vars:1,consts:[[1,"my-5","px-lg-5"],[1,"row","g-4","align-items-center"],[1,"col-lg-4"],[1,"cr"],[3,"options"],["carouselSlide",""],[1,"col-lg-8"],[1,"h4","fw-bolder"],[1,"small","ms-3","my-3"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star","rating-color"],[1,"fa-regular","fa-star-half-stroke","rating-color"],[1,"mt-4","w-75","mx-auto","d-flex"],[1,"btn-main","d-block","w-100",3,"click"],[1,"fa-solid","fa-plus","fa-2xs","d-inline-block","bg-info"],[1,"fa-solid","fa-heart","fs-3","cr","ms-1","d-inline-block"],[3,"src","alt"]],template:function(i,R){i&1&&p(0,G,28,8,"section",0),i&2&&_(0,R.productInfo?0:-1)},dependencies:[F,M,E]});let e=n;return e})();export{X as DetailsComponent};
