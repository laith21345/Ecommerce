import{a as T}from"./chunk-4HNKWMBY.js";import{a as A,b as f,c as N,d as R,f as k,g as q,h as D,i as B,k as G}from"./chunk-R3YEN3BX.js";import{g as y,h as x}from"./chunk-C6P2FJG4.js";import{h as E}from"./chunk-IJX6AT3I.js";import{Cb as b,Db as v,Lb as l,Ta as a,Tb as L,Wb as S,ba as C,ea as w,jb as p,lb as c,pb as g,tb as o,ub as n,vb as d}from"./chunk-CCXG73UJ.js";var V=(e,i)=>({"is-invalid":e,"is-valid":i});function z(e,i){e&1&&(o(0,"p",13),l(1,"email is Required"),n())}function M(e,i){e&1&&(o(0,"p",13),l(1,"Enter Valid Email "),n())}function Z(e,i){if(e&1&&(o(0,"div",6),p(1,z,2,0,"p",13)(2,M,2,0),n()),e&2){let m,r=v();a(),g(1,(m=r.loginForm.get("email"))!=null&&m.getError("required")?1:(m=r.loginForm.get("email"))!=null&&m.getError("email")?2:-1)}}function j(e,i){e&1&&(o(0,"p",13),l(1,"password is Required"),n())}function I(e,i){e&1&&(o(0,"p",13),l(1," * Start with a letter (either uppercase or lowercase). "),d(2,"br"),l(3," * Be between 6 and 9 characters in total. "),d(4,"br"),l(5," * Can only contain letters (A-Z or a-z) and numbers (0-9) "),d(6,"br"),n())}function O(e,i){if(e&1&&(o(0,"div",6),p(1,j,2,0,"p",13)(2,I,7,0),n()),e&2){let m,r=v();a(),g(1,(m=r.loginForm.get("password"))!=null&&m.getError("required")?1:(m=r.loginForm.get("password"))!=null&&m.getError("pattern")?2:-1)}}function U(e,i){e&1&&d(0,"i",12)}var Y=(()=>{let i=class i{constructor(){this._FormBuilder=C(B),this._AuthService=C(T),this._Router=C(y),this.isLoading=!1,this.msgSuccess=!1,this.loginForm=this._FormBuilder.group({email:[null,[f.required,f.email]],password:[null,[f.required,f.pattern(/^([a-zA-Z]{1}[a-zA-Z0-9]{5,9})$/)]]})}submitLoginForm(){this.loginForm.valid&&!this.isLoading?(this.isLoading=!0,this.setLoginFormSub=this._AuthService.setLoginForm(this.loginForm.value).subscribe({next:r=>{r.message=="success"&&(this.msgSuccess=!0,this.isLoading=!1,localStorage.setItem("userToken",r.token),this._AuthService.saveUserData(),setTimeout(()=>{this._Router.navigate(["/home"])},1e3))},error:r=>{this.isLoading=!1}})):this.loginForm.markAllAsTouched()}ngOnDestroy(){this.setLoginFormSub?.unsubscribe()}};i.\u0275fac=function(_){return new(_||i)},i.\u0275cmp=w({type:i,selectors:[["app-login"]],standalone:!0,features:[L],decls:20,vars:13,consts:[[1,"w-75","mx-auto","my-1"],[1,"h3","fw-medium","text-main"],[3,"ngSubmit","formGroup"],[1,"mt-2"],["for","email"],["formControlName","email","id","email","type","email",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","mt-1"],["for","password"],["formControlName","password","id","password","type","password",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-end","align-items-center","gap-3","mt-3"],["routerLink","/forget-passowrd",1,"link-info","cr"],["type","submit",1,"btn-main","px-4",3,"disabled"],[1,"fas","fa-spin","fa-spinner"],[1,"m-0"]],template:function(_,t){if(_&1&&(o(0,"section",0)(1,"h1",1),l(2,"login Now :"),n(),o(3,"form",2),b("ngSubmit",function(){return t.submitLoginForm()}),o(4,"div",3)(5,"label",4),l(6,"email :"),n(),d(7,"input",5),p(8,Z,3,1,"div",6),n(),o(9,"div",3)(10,"label",7),l(11,"password :"),n(),d(12,"input",8),p(13,O,3,1,"div",6),n(),o(14,"div",9)(15,"a",10),l(16,"forget passowrd"),n(),o(17,"button",11),l(18," login "),p(19,U,1,0,"i",12),n()()()()),_&2){let s,h,u,F;a(3),c("formGroup",t.loginForm),a(4),c("ngClass",S(7,V,((s=t.loginForm.get("email"))==null?null:s.errors)&&(((s=t.loginForm.get("email"))==null?null:s.touched)||((s=t.loginForm.get("email"))==null?null:s.dirty)),!((s=t.loginForm.get("email"))!=null&&s.errors))),a(),g(8,(h=t.loginForm.get("email"))!=null&&h.errors&&((h=t.loginForm.get("email"))!=null&&h.touched)?8:-1),a(4),c("ngClass",S(10,V,((u=t.loginForm.get("password"))==null?null:u.errors)&&(((u=t.loginForm.get("password"))==null?null:u.touched)||((u=t.loginForm.get("password"))==null?null:u.dirty)),!((u=t.loginForm.get("password"))!=null&&u.errors))),a(),g(13,(F=t.loginForm.get("password"))!=null&&F.errors&&((F=t.loginForm.get("password"))!=null&&F.touched)?13:-1),a(4),c("disabled",t.loginForm.invalid||t.isLoading||t.msgSuccess),a(2),g(19,t.isLoading?19:-1)}},dependencies:[G,k,A,N,R,q,D,E,x]});let e=i;return e})();export{Y as LoginComponent};
