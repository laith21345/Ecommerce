import{a as R}from"./chunk-HI6ORKHL.js";import{a as q}from"./chunk-X7BZGMGF.js";import{a as j,m as M}from"./chunk-PF6GK2CJ.js";import{h as $}from"./chunk-C6P2FJG4.js";import{$b as W,Cb as u,Db as T,Gb as E,Lb as c,Mb as p,Nb as V,Pa as P,Ta as s,Tb as B,Ub as L,Vb as D,Zb as x,ba as l,da as f,db as w,ea as k,ha as I,jb as C,lb as b,oa as h,pa as v,pb as S,qb as F,rb as A,sb as y,tb as o,ua as _,ub as a,vb as d,yb as g}from"./chunk-CCXG73UJ.js";var Q=(()=>{let i=class i{transform(t,r){return r==""?t:t.filter(n=>n.title.toLowerCase().includes(r.toLowerCase()))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=I({name:"searchForProductByTitle",type:i,pure:!0,standalone:!0});let e=i;return e})();var G=e=>["/details",e],U=()=>[1,2,3,4,5];function H(e,i){e&1&&d(0,"i",8)}function J(e,i){e&1&&d(0,"i",9)}function K(e,i){if(e&1){let m=g();o(0,"i",15),u("click",function(){h(m);let r=T();return v(r.removeFromWishlist())}),a()}}function N(e,i){if(e&1){let m=g();o(0,"i",16),u("click",function(){h(m);let r=T();return v(r.addToWishlist())}),a()}}var ot=(()=>{let i=class i{constructor(){this._CartService=l(j),this._WishlistService=l(R),this._ToastrService=l(M),this.product=_.required(),this.isInWishInp=_.required(),this.isInWish=w(!1)}addToCart(){this.AddProductToCartSub=this._CartService.AddProductToCart(this.product().id).subscribe({next:t=>{t.status=="success"&&(console.log(t),this._CartService.cartCount.set(t.numOfCartItems),this._ToastrService.success(`${t.message}. \u{1F6FA}`,"Add To Cart"))}})}addToWishlist(){this.AddProductToWishlistSub=this._WishlistService.AddProductToWishlist(this.product()._id).subscribe({next:t=>{t.status=="success"&&(console.log(t),this.isInWish.set(!0),this._ToastrService.success(`${t.message}. \u2764\uFE0F+`,"Add To Wishlist"))}})}removeFromWishlist(){this.removeProductFromWishlistSub=this._WishlistService.removeProductFromWishlist(this.product().id).subscribe({next:t=>{t.status=="success"&&(console.log(t),this.isInWish.set(!1),this._ToastrService.success(`${t.message}. \u2764\uFE0F-`,"Remove From Wishlist"))}})}ngOnDestroy(){this.AddProductToCartSub?.unsubscribe(),this.AddProductToWishlistSub?.unsubscribe(),this.removeProductFromWishlistSub?.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=k({type:i,selectors:[["app-product-card"]],inputs:{product:[f.SignalBased,"product"],isInWishInp:[f.SignalBased,"isInWishInp"]},standalone:!0,features:[B],decls:28,vars:18,consts:[[1,"product","py-3"],[1,"cr",3,"routerLink"],[1,"px-1"],[3,"src","alt"],[1,"mt-1","px-2"],[1,"small","fw-bold","text-main"],[1,"fw-bold","small","mt-2"],[1,"d-flex","justify-content-between"],[1,"fa-solid","fa-star","rating-color"],[1,"fa-regular","fa-star-half-stroke","rating-color"],[1,"mt-4","w-75","mx-auto","d-flex"],[1,"btn-main","d-block","w-100",3,"click"],[1,"fa-solid","fa-plus","fa-2xs","d-inline-block","bg-info"],[1,"btn"],[1,"text-danger","fa-solid","fa-heart","fs-3","cr","ms-1","d-inline-block"],[1,"text-danger","fa-solid","fa-heart","fs-3","cr","ms-1","d-inline-block",3,"click"],[1,"fa-solid","fa-heart","fs-3","cr","ms-1","d-inline-block",3,"click"]],template:function(r,n){r&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),d(3,"img",3),x(4,"trimText"),a(),o(5,"div",4)(6,"h3",5),c(7),x(8,"trimText"),a(),o(9,"p",6),c(10),a(),o(11,"div",7)(12,"div")(13,"span"),c(14),a()(),o(15,"div"),A(16,H,1,0,"i",8,F),C(18,J,1,0,"i",9),o(19,"span"),c(20),a()()()()(),o(21,"div",10)(22,"button",11),u("click",function(){return n.addToCart()}),d(23,"i",12),c(24," Add "),a(),o(25,"button",13),C(26,K,1,0,"i",14)(27,N,1,0),a()()()),r&2&&(s(),b("routerLink",D(15,G,n.product()._id)),s(2),E("alt",W(4,9,n.product().title,2)),b("src",n.product().imageCover,P),s(4),p(W(8,12,n.product().title,2)),s(3),p(n.product().description.split(" ",2).join(" ")),s(4),V("",n.product().price," EGP"),s(2),y(L(17,U).slice(0,n.product().ratingsAverage)),s(2),S(18,n.product().ratingsAverage%1?18:-1),s(2),p(n.product().ratingsAverage),s(6),S(26,n.isInWish()?26:27))},dependencies:[$,q]});let e=i;return e})();export{Q as a,ot as b};
