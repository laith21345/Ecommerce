import{a as V}from"./chunk-HI6ORKHL.js";import{a as F}from"./chunk-X7BZGMGF.js";import{a as P,m as A}from"./chunk-PF6GK2CJ.js";import"./chunk-C6P2FJG4.js";import{m as E}from"./chunk-IJX6AT3I.js";import{$b as f,Cb as x,Db as p,Lb as l,Mb as u,Pa as g,Ta as c,Tb as k,Zb as h,ba as m,db as C,ea as b,jb as S,lb as w,oa as _,pa as v,pb as T,rb as W,sb as I,tb as s,ub as r,vb as d,yb as y}from"./chunk-CCXG73UJ.js";var $=(e,i)=>i.id;function B(e,i){if(e&1){let o=y();s(0,"div",4)(1,"div",5)(2,"div"),d(3,"img",6),h(4,"trimText"),r()(),s(5,"div",7)(6,"div",1)(7,"div")(8,"h2",8),l(9),h(10,"trimText"),r(),s(11,"span",3),l(12),h(13,"currency"),r(),d(14,"br"),s(15,"button",9),x("click",function(){let t=_(o).$implicit,a=p(2);return v(a.removeItem(t.id))}),d(16,"i",10),l(17," Remove "),r()(),s(18,"div",11)(19,"button",12),x("click",function(){let t=_(o).$implicit,a=p(2);return v(a.addToCart(t.id))}),l(20," Add to cart "),r()()()()()}if(e&2){let o=i.$implicit;c(3),w("src",o.imageCover,g)("alt",f(4,4,o.title,2)),c(6),u(f(10,7,o.title,2)),c(3),u(f(13,10,o.price,"GBP"))}}function D(e,i){if(e&1&&(s(0,"div",1)(1,"h1",2),l(2,"Wishlist"),r(),s(3,"p"),l(4,"total number of items: "),s(5,"span",3),l(6),r()()(),W(7,B,21,13,"div",4,$)),e&2){let o=p();c(6),u(o.wishlistInfo().count),c(),I(o.wishlistInfo().data)}}function L(e,i){e&1&&(s(0,"h1",13),l(1,"NO Wishlist Item"),r())}var q=(()=>{let i=class i{constructor(){this._WishlistService=m(V),this._CartService=m(P),this._ToastrService=m(A),this.wishlistInfo=C({status:"",count:0,data:[]})}ngOnInit(){this.getLoggedUserWishlist=this._WishlistService.getLoggedUserWishlist().subscribe({next:n=>{n.status=="success"&&(this.wishlistInfo.set(n),console.log(n))}})}removeItem(n){this.removeProductFromWishlistSub=this._WishlistService.removeProductFromWishlist(n).subscribe({next:t=>{t.status=="success"&&(this.wishlistInfo().data=this.wishlistInfo().data?.filter(a=>a._id!==n),this.wishlistInfo().count=this.wishlistInfo().data?.length,console.log(t),this._ToastrService.success("Remove Item was Done \u2639\uFE0F","Wishlist"))}})}addToCart(n){this.AddProductToCartSub=this._CartService.AddProductToCart(n).subscribe({next:t=>{t.status=="success"&&(console.log(t),this._CartService.cartCount.set(t.numOfCartItems),this._ToastrService.success(`${t.message}. \u{1F6FA}`,"Add To Cart"))}})}ngOnDestroy(){this.getLoggedUserWishlist?.unsubscribe(),this.removeProductFromWishlistSub?.unsubscribe(),this.AddProductToCartSub?.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[k],decls:3,vars:1,consts:[[1,"container-lg","bg-main-light","rounded-2","shadow","py-4","px-3","my-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-5","text-main","h4","fw-bolder"],[1,"text-main"],[1,"row","align-items-center","g-3","mt-2","py-1","border-bottom","border-1"],[1,"col-5","col-lg-2"],[3,"src","alt"],[1,"col-6","col-lg-10"],[1,"h6","fw-bolder"],[1,"btn","btn-outline-danger","mt-5",3,"click"],[1,"fa-solid","fa-trash"],[1,"d-flex","align-items-center","gap-3"],[1,"btn-main","d-block","w-100",3,"click"],[1,"fw-bolder","text-danger","text-capitalize","text-center"]],template:function(t,a){t&1&&(s(0,"section",0),S(1,D,9,1)(2,L,2,0),r()),t&2&&(c(),T(1,a.wishlistInfo().count!=0?1:2))},dependencies:[E,F]});let e=i;return e})();export{q as WishlistComponent};
